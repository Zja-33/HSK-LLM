{
  "input": "Role & Objective\nYou are an expert AI Architect capable of understanding spatial layouts. \nYour task is to generate a residential floor plan in JSON format based on the user's semantic description and structural constraints.\n\nCoordinate System Rules\n1.Grid:All coordinates must be integers within the [0, 255] grid.\n2.Axis:The coordinate system is image-based(Origin at Top-Left):Y-axis points Down, X-axis points Right.\n3.Direction:North (Up):Y value decreases.South (Down):Y value increases.East (Right):X value increases.West (Left):X value decreases.\n4.Bounds:Generated coordinates must strictly stay within the provided [0, 255] canvas and the specified Boundary Outline.\n\nTopology & Geometry Rules\n1.Anchor:The living room is the central anchor.In the overall layout,all other room positions (North, South, etc.) are relative to it.\n2.Connectivity:No isolated rooms allowed. Every room must share at least one edge with another room.Rooms defined as adjacent in the input must share a boundary.Rooms without adjacent relationships do not share a boundary.\n3.Polygon:The generated polygon must have no self intersection. All edges (walls) should be aligned with the axis (horizontal or vertical).\n4.Alignment:Shared edges between adjacent rooms must align perfectly (no gaps).\n5.Mutually Exclusive: The interiors of any two room polygons must be strictly disjoint. Boundaries can touch, but areas cannot overlap.\n6.Tiling(NO GAPS):All rooms must fit strictly within the Boundary Outline Constraint Polygon.The Union of all room polygons must exactly equal the geometry of the Boundary Polygon.There must be no void spaces or unassigned areas inside the boundary.\n\nOutput Format\nReturn ONLY a JSON list, where each element represents a room:\n[\n  { \"room\": \"living room\", \"boundary\": [[x1, y1], [x2, y2], ...] },\n  { \"room\": \"kitchen\", \"boundary\": [...] }\n]\n\nUser Description\nDesign a floor plan with a total of 7 rooms, comprising: 1 kitchen, 1 balcony, 1 bathroom, 2 common room, 1 master room, 1 living room.The total area is 86.57 sqm.\nThe kitchen is located on the South side and requires approximately 6.1 sqm.\nThe balcony is located on the South-East side and requires approximately 3.84 sqm.\nThe bathroom is located on the South-East side and requires approximately 4.46 sqm.\nThe common room 1 is located on the North-East side and requires approximately 6.92 sqm.\nThe master room is located on the East side and requires approximately 15.1 sqm.\nThe common room 2 is located on the East side and requires approximately 13.16 sqm.\nThe living room is the central anchor and requires approximately 36.99 sqm.\nLocal Zone Layout (Fine-grained):Inside the South-East Zone,balcony is located to the South of bathroom.Inside the East Zone,common room 2 is located to the South of master room.\n\nConstraints\n1.Boundary Outline Constraint:\nThe entire layout must fit strictly within this polygon: [[120,69],[57,69],[57,188],[78,188],[113,188],[144,188],[144,166],[200,166],[200,130],[200,69],[156,69],[156,80],[120,80],[120,69]]\nYou must partition the entire space.Total Room Area â‰ˆ 86.57 sqm.Every pixel inside the outline must be assigned to a room.No gaps are allowed between the polygons of the room.\n2.Adjacency Constraint:\nThe following pairs MUST share a physical wall segment (Edge Length>0):(kitchen, balcony), (kitchen, bathroom), (kitchen, living room), (balcony, bathroom), (balcony, common room 2), (bathroom, common room 2), (bathroom, living room), (common room 1, master room), (common room 1, living room), (master room, common room 2), (master room, living room), (common room 2, living room)\nPoint-only contact (Vertex Touching) is FORBIDDEN. They must share a line.\nAny pair NOT listed above implies NO RELATIONSHIP.They must be physically separated (no shared edges).\n3.Bounding Box Geometric Constraints:\nBounding Box Definition:A Bounding Box (BBox) is the minimal axis-aligned rectangle [min_x, min_y, max_x, max_y] that fully encloses a room's polygon.It represents the room's maximum spatial territory.\nContainment Constraint:\nContainment Relations (Container, Contained):(living room, kitchen), (living room, balcony), (living room, bathroom), (living room, common room 1)\nIf Listed (A, B):Room A's BBox MUST strictly enclose Room B's BBox. \nLogic: A.min_x <= B.min_x AND A.max_x >= B.max_x (Same for Y).Room B is essentially inside the span of Room A.\nIntersection Constraint:\nIntersection Relations (Box Overlap):(common room 2, living room)\nIf Listed (A, B):Their BBoxes MUST have a intersection area > 0.Intersection(Box(A), Box(B)).Area > 0.\nNote: Bounding boxes MAY overlap, but the actual room polygon areas must be STRICTLY DISJOINT.\n",
  "output": [
    {
      "room": "kitchen",
      "boundary": [
        [
          78,
          157
        ],
        [
          78,
          188
        ],
        [
          113,
          188
        ],
        [
          113,
          157
        ]
      ]
    },
    {
      "room": "balcony",
      "boundary": [
        [
          144,
          188
        ],
        [
          144,
          166
        ],
        [
          113,
          166
        ],
        [
          113,
          188
        ]
      ]
    },
    {
      "room": "bathroom",
      "boundary": [
        [
          113,
          130
        ],
        [
          113,
          166
        ],
        [
          135,
          166
        ],
        [
          135,
          130
        ]
      ]
    },
    {
      "room": "common room 1",
      "boundary": [
        [
          115,
          80
        ],
        [
          115,
          110
        ],
        [
          156,
          110
        ],
        [
          156,
          80
        ]
      ]
    },
    {
      "room": "master room",
      "boundary": [
        [
          200,
          69
        ],
        [
          156,
          69
        ],
        [
          156,
          130
        ],
        [
          200,
          130
        ]
      ]
    },
    {
      "room": "common room 2",
      "boundary": [
        [
          200,
          166
        ],
        [
          200,
          130
        ],
        [
          135,
          130
        ],
        [
          135,
          166
        ]
      ]
    },
    {
      "room": "living room",
      "boundary": [
        [
          57,
          188
        ],
        [
          78,
          188
        ],
        [
          78,
          157
        ],
        [
          113,
          157
        ],
        [
          113,
          130
        ],
        [
          156,
          130
        ],
        [
          156,
          110
        ],
        [
          115,
          110
        ],
        [
          115,
          80
        ],
        [
          120,
          80
        ],
        [
          120,
          69
        ],
        [
          57,
          69
        ]
      ]
    }
  ]
}